{% extends "base.html" %}
{% load static %}

{% block css %}
<style>
  .table>:not(caption)>*>*{
  padding:5px;
}
a{
      text-decoration: none;
      color: black;
  
}

@media (max-width:1200px){
tbody, tbody tr th{
    font-size: 9px !important;
}
.btn{
  margin-bottom: 10px !important;
}
.table1 {
  width: 300px !important;
  overflow: auto !important;
}
}

</style>

{% endblock css %}

{% block content %}

<div class="container-fluid" style="max-width:1500px">
  <!-- Row 1 -->
  <div class="row">
    <div class="col-lg-12 d-flex align-items-strech w-100">
      <div class="card w-100">
        <div class="card-body">
          
          {% for message in messages %}
            <div class="alert {{ message.tags }} alert-dismissible fade show" role="alert">
                  {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endfor %}
          <div class="d-sm-flex d-block align-items-center justify-content-between mb-9">
            <div class="mb-3 mb-sm-0">
             <a href="/dashboard"> <h5 class="card-title fw-semibold text-primary text-decoration-underline">Dashboard</h5></a>
            </div>
            <div>
              <button type="button" class="btn btn-primary">Total Orders : {{total_orders}}</button>
            </div>
            <div>
              <button type="button" class="btn btn-primary">Open Orders : {{new_orders}}</button>
            </div>
            <div>
              <button type="button" class="btn btn-primary">Revenue : {{total_revenue}}</button>
            </div>
            
          </div>
          <div>
<div class="table1">
<table class="table" >
  <thead>
<tr>
<th>
Shop Name
</th>
<th onclick="sortTable(0)">
Total Orders <span id="arrow0"></span>
</th>
<th>
New Orders
</th>
<th onclick="sortTable(1)">
Completed Orders <span id="arrow1"></span>
</th>
<th >
Total Cost <span id="arrow3"></span>
</th>
<th >
Revenue <span id="arrow3"></span>
</th>
</tr>
</thead>

  <tbody id="myTable">
    {% if shop_details %}
    {% for shop in shop_details %}

      <tr>
      
        
        <td class="text-underlined" style="width: 20%;"><a href="{% url "app:editshop" shop.shop_name %}">{{ shop.shop_name }} </a></td>
        <td style="width: 20%;">{{ shop.total_orders}}</td>
        <td style="width: 20%;">{{ shop.new_orders }}</td>
        <td style="width: 20%;">{{ shop.completed_orders }}</td>
        <td style="width: 20%;">{{ shop.total_cost }}</td>
        <td style="width: 20%;">{{ shop.revenue }}</td>
      </tr>
      {% endfor %}
      {% endif %}
  </tbody>
</table>
</div>


</div>
</div>
</div>
</div>
</div>
</div>

  {% endblock content %}

  {% block js %}
  {% endblock js %}